
@{
    ViewBag.Title = @Resources.Resource.warehouse_detail_list;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/Areas/WarehouseManagement/assets/css/dragula/dragula.min.css" rel="stylesheet" />
<link href="~/Areas/WarehouseManagement/assets/css/print.css" rel="stylesheet" />

<style>
    .modal-dialog {
        max-width: 80%; /* Đặt modal chiếm 90% màn hình */
        width: auto; /* Để kích thước tự điều chỉnh */
    }

    .modal-content {
        border-radius: 8px; /* Thêm bo góc nếu cần */
    }

    .drag-container {
        min-height: 30px;
    }

    .table-container {
        position: relative;
        overflow-x: auto;
    }

    th, td {
        padding: 8px;
        text-align: left;
        white-space: nowrap; /* Ngăn chặn văn bản xuống dòng */
    }

        th.sticky-column,
        td.sticky-column {
            position: -webkit-sticky;
            position: sticky;
            background-color: white;
            left: 0px;
            z-index: 2; /* Để đảm bảo cột "đóng băng" hiển thị trên cùng */
        }

        td.sticky-column2 {
            position: -webkit-sticky;
            position: sticky;
            left: 50px;
            z-index: 2;
            background-color: white;
        }

        td.sticky-column3 {
            position: -webkit-sticky;
            position: sticky;
            left: 150px;
            z-index: 2;
            background-color: white;
        }


    .edit-text[contenteditable="true"] {
        border: 1px dashed #007bff;
        padding: 5px;
        background-color: #f9f9f9;
        outline: none;
    }

    .edit-text {
        min-width: 50px;
    }
</style>
<!--begin::Card-->
<div class="card card-custom gutter-b">
    <div class="card-header flex-wrap border-0 pt-6 pb-0">
        <div class="card-title">
            <h3 class="card-label">
                @Resources.Resource.warehouse_detail_list_page
                <span class="d-block text-muted pt-2 font-size-sm">@Resources.Resource.warehouse_detail_list_note</span>
            </h3>
        </div>
        <div class="card-toolbar">
            <!--begin::Dropdown-->
            <div class="dropdown dropdown-inline mr-2">
                <button type="button" class="btn btn-light-primary font-weight-bolder dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="svg-icon svg-icon-md">
                        <!--begin::Svg Icon | path:assets/media/svg/icons/Design/PenAndRuller.svg-->
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <rect x="0" y="0" width="24" height="24" />
                                <path d="M3,16 L5,16 C5.55228475,16 6,15.5522847 6,15 C6,14.4477153 5.55228475,14 5,14 L3,14 L3,12 L5,12 C5.55228475,12 6,11.5522847 6,11 C6,10.4477153 5.55228475,10 5,10 L3,10 L3,8 L5,8 C5.55228475,8 6,7.55228475 6,7 C6,6.44771525 5.55228475,6 5,6 L3,6 L3,4 C3,3.44771525 3.44771525,3 4,3 L10,3 C10.5522847,3 11,3.44771525 11,4 L11,19 C11,19.5522847 10.5522847,20 10,20 L4,20 C3.44771525,20 3,19.5522847 3,19 L3,16 Z" fill="#000000" opacity="0.3" />
                                <path d="M16,3 L19,3 C20.1045695,3 21,3.8954305 21,5 L21,15.2485298 C21,15.7329761 20.8241635,16.200956 20.5051534,16.565539 L17.8762883,19.5699562 C17.6944473,19.7777745 17.378566,19.7988332 17.1707477,19.6169922 C17.1540423,19.602375 17.1383289,19.5866616 17.1237117,19.5699562 L14.4948466,16.565539 C14.1758365,16.200956 14,15.7329761 14,15.2485298 L14,5 C14,3.8954305 14.8954305,3 16,3 Z" fill="#000000" />
                            </g>
                        </svg>
                        <!--end::Svg Icon-->
                    </span>@Resources.Resource.export
                </button>
                <!--begin::Dropdown Menu-->
                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right">
                    <!--begin::Navigation-->
                    <ul class="navi flex-column navi-hover py-2">
                        <li class="navi-item">
                            <div onclick="ExportExcel()" class="navi-link" style="cursor: pointer">
                                <span class="navi-icon">
                                    <i class="la la-file-excel-o"></i>
                                </span>
                                <span class="navi-text">Excel</span>
                            </div>
                        </li>
                    </ul>
                    <!--end::Navigation-->
                </div>
                <!--end::Dropdown Menu-->
            </div>
            <!--end::Dropdown-->
        </div>
    </div>
    <div class="card-body">
        <!--begin: Search Form-->
        <!--begin::Search Form-->
        <div class="mb-7">
            <div class="row form-group">
                <div class="col-lg-6 col-md-6 col-sm-12 mb-3">
                    <div class="input-icon">
                        <input type="text" class="form-control" placeholder="@Resources.Resource.warehouse_search..." id="kt_datatable_search_query" />
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-12 mb-3">
                        <select class="form-control" id="kt_datatable_search_type" onchange="">
                            <option value="" selected>@Resources.Resource.all</option>
                            @foreach (var warehouse in ViewBag.WareHouses)
                            {
                                <option value="@warehouse.Name">@warehouse.Name</option>
                            }

                        </select>
                </div>
            </div>
        </div>
        <!--end::Search Form-->
        <!--end: Search Form-->
        <!--begin: Datatable-->
        <div class="datatable datatable-bordered datatable-head-custom" id="kt_datatable_detailWH"></div>
        <!--end: Datatable-->
    </div>
</div>
<!--end::Card-->
@*hiển thị danh sách mặt hàng trong kho*@
<!--begin::Modal-->
<div id="kt_datatable_modal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content" style="min-height: 590px;">
            <div class="modal-header py-5" style="background-color: transparent">
                <h5 class="modal-title">
                    @Resources.Resource.warehouse_detail_list_modal
                    <span class="d-block text-muted font-size-sm">@Resources.Resource.warehouse_detail_list_header</span>
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i aria-hidden="true" class="ki ki-close"></i>
                </button>
            </div>
            <div class="modal-body">
                <!--begin: Search Form-->
                <!--begin::Search Form-->
                <div class="mb-5">
                    <div class="row align-items-center">
                        <div class="col-lg-9 col-xl-8">
                            <div class="row align-items-center">
                                <div class="col-md-4 my-2 my-md-0">
                                    <div class="input-icon">
                                        <input type="text" class="form-control" placeholder="@Resources.Resource.warehouse_detail_list_search" id="kt_datatable_search_query_2" />
                                        <span>
                                            <i class="flaticon2-search-1 text-muted"></i>
                                        </span>
                                    </div>
                                </div>
                                @*<div class="col-md-4 my-2 my-md-0">
                                        <div class="d-flex align-items-center">
                                            <label class="mr-3 mb-0 d-none d-md-block">Status:</label>
                                            <select class="form-control" id="kt_datatable_search_status_2">
                                                <option value="">All</option>
                                                <option value="1">Pending</option>
                                                <option value="2">Delivered</option>
                                                <option value="3">Canceled</option>
                                                <option value="4">Success</option>
                                                <option value="5">Info</option>
                                                <option value="6">Danger</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-4 my-2 my-md-0">
                                        <div class="d-flex align-items-center">
                                            <label class="mr-3 mb-0 d-none d-md-block">Type:</label>
                                            <select class="form-control" id="kt_datatable_search_type_2">
                                                <option value="">All</option>
                                                <option value="1">Online</option>
                                                <option value="2">Retail</option>
                                                <option value="3">Direct</option>
                                            </select>
                                        </div>
                                    </div>*@
                            </div>
                        </div>
                        @*<div class="col-lg-3 col-xl-4 mt-5 mt-lg-0">
                                <a href="#" class="btn btn-light-primary px-6 font-weight-bold">Search</a>
                            </div>*@
                    </div>
                </div>
                <!--end::Search Form-->
                <!--end: Search Form-->
                <!--begin: Datatable-->
                <div class="datatable datatable-bordered datatable-head-custom" id="kt_datatable_sub"></div>
                <!--end: Datatable-->
            </div>
            @*<div class="modal-footer">
                    <button type="button" class="btn btn-light-primary font-weight-bold text-uppercase" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary font-weight-bold text-uppercase">Submit</button>
                </div>*@
        </div>
    </div>
</div>
<!--end::Modal-->
<!--begin::Modal-->
<div id="kt_datatable_modal_2" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content" style="min-height: 590px;">
            <div class="modal-header py-5" style="background-color: transparent">
                <h5 class="modal-title">
                    @Resources.Resource.warehouse_detail_list_gepc
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i aria-hidden="true" class="ki ki-close"></i>
                </button>
            </div>
            <div class="modal-body">
                <!--begin: Search Form-->
                <!--begin::Search Form-->
                <div class="mb-5">
                    <div class="row align-items-center">
                        <div class="col-lg-9 col-xl-8">
                            <div class="row align-items-center">
                                <div class="col-md-4 my-2 my-md-0">
                                    <div class="input-icon">
                                        <input type="text" class="form-control" placeholder="@Resources.Resource.warehouse_detail_list_search" id="kt_datatable_search_query_2" />
                                        <span>
                                            <i class="flaticon2-search-1 text-muted"></i>
                                        </span>
                                    </div>
                                </div>
                                @*<div class="col-md-4 my-2 my-md-0">
                                        <div class="d-flex align-items-center">
                                            <label class="mr-3 mb-0 d-none d-md-block">Status:</label>
                                            <select class="form-control" id="kt_datatable_search_status_2">
                                                <option value="">All</option>
                                                <option value="1">Pending</option>
                                                <option value="2">Delivered</option>
                                                <option value="3">Canceled</option>
                                                <option value="4">Success</option>
                                                <option value="5">Info</option>
                                                <option value="6">Danger</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-4 my-2 my-md-0">
                                        <div class="d-flex align-items-center">
                                            <label class="mr-3 mb-0 d-none d-md-block">Type:</label>
                                            <select class="form-control" id="kt_datatable_search_type_2">
                                                <option value="">All</option>
                                                <option value="1">Online</option>
                                                <option value="2">Retail</option>
                                                <option value="3">Direct</option>
                                            </select>
                                        </div>
                                    </div>*@
                            </div>
                        </div>
                        @*<div class="col-lg-3 col-xl-4 mt-5 mt-lg-0">
                                <a href="#" class="btn btn-light-primary px-6 font-weight-bold">Search</a>
                            </div>*@
                    </div>
                </div>
                <!--end::Search Form-->
                <!--end: Search Form-->
                <!--begin: Datatable-->
                <div class="datatable datatable-bordered datatable-head-custom" id="kt_datatable_epc_sub"></div>
                <!--end: Datatable-->
            </div>
            @*<div class="modal-footer">
                    <button type="button" class="btn btn-light-primary font-weight-bold text-uppercase" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary font-weight-bold text-uppercase">Submit</button>
                </div>*@
        </div>
    </div>
</div>
<!--end::Modal-->
@*<div class="modal fade show" id="showlist" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdrop" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">@Resources.Resource.warehouse_detail</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i aria-hidden="true" class="ki ki-close"></i>
                    </button>
                </div>
                <div class="modal-body" style="height: 300px; overflow-y: scroll;">
                    <table class="table table-separate table-head-custom table-checkable dataTable no-footer dtr-inline" id="kt_datatable" role="grid" aria-describedby="kt_datatable_info" style="width:750px">
                        <thead>
                            <tr role="row">
                                <th>STT</th>
                                <th>@Resources.Resource.good_id</th>
                                <th>@Resources.Resource.good_name</th>
                                <th>@Resources.Resource.inventory</th>
                                <th>@Resources.Resource.Chi_Tiết</th>
                            </tr>
                        </thead>
                        <tbody id="tbd1">
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light-primary font-weight-bold" data-dismiss="modal">@Resources.Resource.close</button>
                </div>
            </div>
        </div>
    </div>*@
@*hiển thị danh sách EPC của mặt hàng trong kho*@
@*<div class="modal fade show" id="showlistEPC" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdrop" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">@@Resources.Resource.good_detail_Trong_Kho</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i aria-hidden="true" class="ki ki-close"></i>
                    </button>
                </div>
                <div class="modal-body" style="height: 300px; overflow-y: scroll;">
                    <table class="table table-separate table-head-custom table-checkable dataTable no-footer dtr-inline" id="kt_datatable" role="grid" aria-describedby="kt_datatable_info" style="width:750px">
                        <thead>
                            <tr role="row">
                                <th>STT</th>
                                <th>@Resources.Resource.warehouse_name</th>
                                <th>@Resources.Resource.good_id</th>
                                <th>@Resources.Resource.epc_code</th>
                                <th>@Resources.Resource.search</th>
                            </tr>
                        </thead>
                        <tbody id="tbd2">
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light-primary font-weight-bold" data-dismiss="modal">@Resources.Resource.close</button>
                </div>
            </div>
        </div>
    </div>*@

<!-- Printing -->
<div class="modal fade" id="printModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="printModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">@Resources.Resource.printing</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i aria-hidden="true" class="ki ki-close"></i>
                </button>
            </div>
            <div class="modal-body">
                <div id="printArea" style="font-family: 'Poppins', sans-serif; line-height: 1.6; color: #333;">
                    <!-- Tiêu đề -->
                    <div id="drag-container-1" class="drag-container" style="display: flex; flex-direction: column; align-items: center; margin-bottom: 20px; border-bottom: 2px solid #007bff; padding-bottom: 10px;">
                        @*<img src="logo.png" alt="Logo" style="height: 40px;">*@
                        <h1 class="edit-text" data-header="true" style="width: fit-content; font-size: 26px; font-weight: bold; color: #007bff;">CÔNG TY TNHH XYZ</h1>
                        <p class="edit-text" data-header="true" style="width: fit-content; font-size: 14px; color: #555;">Địa chỉ: 123 Đường ABC, TP. HCM</p>
                        <h2 class="edit-text" style="width: fit-content; font-size: 22px; color: #007bff; font-weight: 600;">@Resources.Resource.inventory_print</h2>
                        <p style="width: fit-content; font-size: 14px; color: #555;">@Resources.Resource.print_time: <span id="timePrint"></span></p>
                    </div>

                    <!-- Thông tin chung -->
                    <div id="inventoryBody">
                        <div id="drag-container-2" class="drag-container" style="margin-bottom: 20px;">
                            <p style="font-size: 14px; color: #333; font-weight: 500;">@Resources.Resource.account_print: <span id="userPrint"></span></p>
                            @*<p style="font-size: 14px; color: #333; font-weight: 500;">Người duyệt: Trần Văn B</p>*@
                        </div>
                        <div class="printContainer" style="overflow: auto; max-height: 500px; width: 100%; margin-bottom: 20px; ">
                        </div>
                    </div>
                    <!-- Ghi chú -->
                    @*<div style="margin-bottom: 20px;">
                            <p style="font-size: 14px; color: #555;">Ghi chú: Hàng hóa có trong hệ thống.</p>
                        </div>*@

                    <!-- Chữ ký -->
                    <!--<div style="display: flex; justify-content: space-between; margin-top: 40px;">
                        <div style="text-align: center;">
                            <p style="font-size: 14px; color: #333;">Người lập phiếu</p>
                            <p style="font-size: 14px; color: #555;">(Ký, ghi rõ họ tên)</p>
                        </div>
                        <div style="text-align: center;">
                            <p style="font-size: 14px; color: #333;">Người duyệt</p>
                            <p style="font-size: 14px; color: #555;">(Ký, ghi rõ họ tên)</p>
                        </div>
                        <div style="text-align: center;">
                            <p style="font-size: 14px; color: #333;">Giám đốc</p>
                            <p style="font-size: 14px; color: #555;">(Ký, ghi rõ họ tên)</p>
                        </div>
                    </div>-->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-warning" style="display:none" id="updateBtn">@Resources.Resource.update_print_btn</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">@Resources.Resource.close</button>
                <button type="button" class="btn btn-primary" onclick="openAndPrint()">@Resources.Resource.print</button>
            </div>
        </div>
    </div>
</div>
@section scripts{
    <script src="~/Areas/WarehouseManagement/PrintDetail/DataBill.js"></script>
    <script src="~/Areas/WarehouseManagement/assets/js/dragula/dragula.min.js"></script>
    <script>
        var resources = {
            "wh": "@Resources.Resource.inventory_name",
            "quantity": "@Resources.Resource.inventory_quantity",
            "action": "@Resources.Resource.action",
            "detail_header": "@Resources.Resource.inventory_header",
            "transfer_header": "@Resources.Resource.inventory_transfer",
            "goodName": "@Resources.Resource.good_name",
            "goodId": "@Resources.Resource.goods_id",
            "number": "@Resources.Resource.quantity",
            "actionDetail": "@Resources.Resource.detail",
            "addSearch": "@Resources.Resource.add_search",
            "search": "@Resources.Resource.search",
            "epc": "@Resources.Resource.epc_code",
            "option": "@Resources.Resource.Choose_an_option",
            "epc_detail": "@Resources.Resource.goods_epc_detail",
            "ErrorCall": "@Resources.Resource.error_ajax",
            "unit": "@Html.Raw(Resources.Resource.unit)",
            "good_group": "@Html.Raw(Resources.Resource.good_group)",

        }
    </script>
    <script src="~/Areas/WarehouseManagement/assets/js/Warehouse/list-detail.js"></script>
    <script>

        WareHouse()
        function WareHouse() {
            $.ajax({
                url: '/WarehouseManagement/purchaseorder/WareHouse',
                type: 'get',
                success: function (data) {
                    $('#kt_datatable_search_status').empty();
                    console.log($("#kt_datatable_search_status"))
                    if (data.code == 200) {
                        let table = '<option value="">Tất cả</option>'
                        $.each(data.c, function (k, v) {
                            table += '<option value="' + v.id + '">' + v.name + '</option>'
                        });
                        $('#kt_datatable_search_status').append(table);
                        //SearchDetailWareHouse();
                    } else (
                        toastr.error(data.msg)
                    )
                }
            })
        }
        //hiển thị danh sách bằng chọn kho
        //$(document).on('change', 'select[name="warehouse"]', function () {
        //    SearchDetailWareHouse()
        //});


        function SearchDetailWareHouse() {
            var idwarehouse = $('#warehouse option:selected').val();

            $.ajax({
                url: '/WarehouseManagement/warehouse/ShowDetailWareHouse',
                type: 'get',
                data: { idwarehouse },
                success: function (data) {
                    $("#tbd").empty();
                    if (data.code == 200) {
                        var Stt = $('#tbd').children('tr').length + 1;
                        $.each(data.list, function (k, v) {
                            var table = '<tr id="' + v.idwarehouse.trim() + '" role="row" class="khohang">';
                            table += '<td>' + (Stt) + '</td>';
                            table += '<td>' + v.namewarehouse + '</td>';
                            table += '<td>' + v.count + '</td>';
                            table += '<td nowrap="nowrap"style="cursor: pointer;"> ';
                            table += '<i class="nav-icon fas fa-list" data-id="' + v.idwarehouse.trim() + '" onclick="openList(\'' + v.idwarehouse.trim() + '\')"></i>';

                            table += '</tr>';
                            $('#tbd').append(table);
                            Stt++;
                        });
                    } else {
                        toastr.error(data.msg);
                    }
                },
                error: function () {
                    toastr.error('Lỗi.');
                }
            });
        }
        //hiển thị modal chi tiết hàng hóa trong kho
        function openList(idwarehouse) {

            $('#showlist').modal('show');

            $.ajax({
                url: '/WarehouseManagement/warehouse/ShowDetailWareHouse',
                type: 'get',
                data: { idwarehouse },
                success: function (data) {
                    $("#tbd1").empty();
                    if (data.code == 200) {
                        $.each(data.goods, function (k, v) {
                            var table = '<tr id="' + v.idgoods + '" role="table">';
                            table += '<td>' + (k + 1) + '</td>';
                            table += '<td>' + v.idgoods + '</td>';
                            table += '<td>' + v.name + '</td>';
                            table += '<td>' + v.qtt + '</td>';
                            table += '<td nowrap="nowrap"style="cursor: pointer;">';
                            table += '<i class="nav-icon fas fa-list" data-id="' + v.idgoods + '" onclick="openListEPC(\'' + idwarehouse + '\', \'' + v.idgoods + '\')"></i>';

                            table += '</tr>';
                            $('#tbd1').append(table);
                        });
                    }
                },
                error: function () {
                    toastr.error('Lỗi.');
                }
            })
        }
        //hiển thị modal danh sách chi tiết EPC của hàng hóa
        function openListEPC(idwarehouse, idgoods) {
            $('#showlistEPC').modal('show');
            $.ajax({
                url: '/WarehouseManagement/warehouse/ShowDetailWareHouse',
                type: 'get',
                data: { idwarehouse, idgoods },
                success: function (data) {
                    $('#tbd2').empty();
                    if (data.code == 200) {
                        for (var i = 0; i < data.epcInGoods.length; i++) {
                            var epc = data.epcInGoods[i].idEPC
                            let table = '<tr id="' + data.epcInGoods[i].idgoods.trim() + '" role="row" >';
                            table += '<td>' + Number(i + 1) + '</td>'
                            table += '<td>' + data.epcInGoods[i].namewarehouse + '</td>'
                            table += '<td>' + data.epcInGoods[i].idgoods + '</td>'
                            table += '<td>' + epc + '</td>'
                            table += '<td nowrap="nowrap"style="cursor: pointer;">';
                            table += `<a class="nav-link" name="setEPC" id="${epc}" >`;
                            table += '<i class="nav-icon la la-search"></i></a>';
                            table += '</tr>';
                            $('#tbd2').append(table);
                        }
                    }
                }
            })
        }

        $("#kt_datatable_search_type").select2()
        $('#inventoryBtn').addClass('menu-item-active')
        // lấy giá trị idwarehouse, idgoods từ localstorage được lưu trữ trong tab thông báo tồn kho
        //$(document).ready(function () {

        //    var idwarehouse = localStorage.getItem('idwarehouse');
        //    var idgoods = localStorage.getItem('idgoods');
        //    console.log(idwarehouse);
        //    console.log(idgoods);
        //    // idgoods có giá trị
        //    if (idwarehouse && idgoods !== null) {
        //        openListEPC(idwarehouse, idgoods);
        //        openList(idwarehouse);
        //        localStorage.removeItem('idwarehouse');
        //        localStorage.removeItem('idgoods');
        //    }
        //    //idgoods không có giá trị truyền
        //    else if (idwarehouse && idgoods == null) {
        //        openList(idwarehouse);
        //        localStorage.removeItem('idwarehouse');
        //    }
        //});

        ////sử dụng localStorage để lưu epc chuyển hướng đến trang tìm kiếm
        //$(document).on('click', 'a[name="setEPC"]', function () {
        //    var idEPC = $(this).attr('id')
        //    localStorage.setItem("EPC", idEPC)
        //    window.location.href = "/Goods/SearchEPC"
        //})

    </script>
}
